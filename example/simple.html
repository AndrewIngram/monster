<!doctype>
<html>
<head>

<title>Simple Example of using Monster</title>

<link rel="stylesheet" href="../lib/css/reset.css">
<link rel="stylesheet" href="../lib/css/text.css">
<link rel="stylesheet" href="../lib/css/960.css">

<link rel="stylesheet" href="../lib/css/theme/jquery-ui-1.7.2.custom.css">
<link rel="stylesheet" href="../src/css/monster.css">

<style>
	
	body {
		font-size: 12px;
		font-family: Helvetica, Arial, sans-serif;
		line-height: 1.5;
	}
	
	#container {
		margin: 50px auto;
		width: 960px;
	}
	
	h1 {
		font-size: 28px;
		line-height: 1;
		margin: 0 0 1em;
	}
	
</style>

</head>
<body>

<div id="container">

<div id="contents-primary">

<h1 m:widget="line" m:title="Page Title">Heading 1</h1>

<div>
	<a m:widget="linkedimage" href="#"><img src="http://dummyimage.com/300x300" /></a>
</div>

<div m:widget="markdown">Content</div>

<div m:widget="container">
	<div m:widget="block" m:label="Block 1">
			<h6>Not editable</h6>
			<h2 m:widget="line" m:title="Heading 2">Heading 2</h2>
			<a m:widget="linkedimage" href="#"><img src="http://dummyimage.com/100x100" /></a>
	</div>
	
	<div m:widget="block" m:label="Block 2">
			<h6>Not editable</h6>
			<h2 m:widget="line" m:title="Heading 2">Heading 2</h2>
			
			<div m:widget="container">
				<div m:widget="block" m:label="Subblock 1">
						<h6>Not editable</h6>
						<h3 m:widget="line" m:title="Heading 2">Heading 2</h3>
						<a m:widget="linkedimage" href="#"><img src="http://dummyimage.com/50x50" /></a>
				</div>
			</div>
	</div>	
</div>

</div>

<button id="data">Data</button>
<button id="render">Render</button>

<div id="render-target">
	
</div>

</div>

<script src="../lib/js/jquery-1.4.2.min.js"></script>
<script src="../lib/js/jquery-ui-1.7.2.custom.min.js"></script>
<script src="../lib/js/jquery.jeditable.js"></script>
<script src="../lib/js/jquery.json-2.2.min.js"></script>
<script src="../lib/js/showdown.js"></script>
<script src="../src/js/monster.js"></script>
<script src="../src/js/monster.widgets.core.js"></script>
<script src="../src/js/monster.fields.core.js"></script>

<script>

	$(document).ready(function(){
		var node = $('#contents-primary');
		var data = ["Page Title",{"src":"http://dummyimage.com/960x100","alt":"","href":"http://www.google.com/","title":""},"Lipsum.org",[{"type":"Block 1","data":["Subheading",{"src":"http://dummyimage.com/200x100","alt":"","href":"#","title":""}]},{"type":"Block 1","data":["Heading 2",{"src":"http://dummyimage.com/100x100","alt":"","href":"#","title":""}]},{"type":"Block 2","data":["Heading 2",[{"type":"Subblock 1","data":["Heading 2",{"src":"http://dummyimage.com/50x50","alt":"","href":"#","title":""}]},{"type":"Subblock 1","data":["Heading 2",{"src":"http://dummyimage.com/50x50","alt":"","href":"#","title":""}]}]]}]];
		
		var spec = {
			'node': node,
			'data': data
		}

		var editor = MONSTER.editor(spec);
		
		$('button#data').click(function(){
			console.log($.toJSON(editor.get_data()));
		});		
		
		$('button#render').click(function(){
			
			var cb = function(node){
				$('#render-target').html(node);
			}
			
			editor.render(cb);
		});
	});

</script>


</body>
</html>